<% reviewDate = course_review.updated_at %>
<% 
	course_quality_criteria = [course_review.usefulness, course_review.stimulating, course_review.content_quality];
	course_quality_display_names = ["Usefulness", "Interesting", "Quality of Content"];
	course_difficulty_criteria = [course_review.homework_difficulty, course_review.lab_difficulty, course_review.midterm_difficulty, course_review.final_difficulty, course_review.out_of_class_work_hours];
	course_difficulty_display_names = ["Homework", "Labs", "Midterms", "Finals", "Out of Class Work Hours"];
	greaterMaxIndex = [course_quality_criteria.size, course_difficulty_criteria.size].max;
	 %>
<h4>Review by <%=course_review.author%> on <%=Date::MONTHNAMES[reviewDate.month].to_s+" "+reviewDate.year.to_s%></h4>

<div class="row">
	<div class="span6">
		<%= course_review.review_content %>
	</div>
	<div class="span6">
<table class="table table-condensed">
		<thead>
			<tr>
				<th>Overall Quality</th>
				<th><%= render partial:'partials/course_reviews/colored_number_square', locals:{number:course_review.thisReviewAverageQuality, reverse:"false"} %></th>
				<th>Overall Difficulty</th>
				<th><%= render partial:'partials/course_reviews/colored_number_square', locals:{number:course_review.thisReviewAverageDifficulty, reverse:"false"} %></th>
			</tr>
		</thead>	
		<tbody>

			<% for index in 0..(greaterMaxIndex-1) %>
			<tr>
				<% if(index<course_quality_criteria.size) %>
					<td><%=course_quality_display_names[index]%></td>
					<td><%= render partial:'partials/course_reviews/colored_number_square', locals:{number:course_quality_criteria[index], reverse:"false"} %></td>
				<% else %>
					<td></td><td></td>
				<% end %>

				<% if(index<course_difficulty_criteria.size) %>
					<td><%=course_difficulty_display_names[index]%></td>
					<td><%= render partial:'partials/course_reviews/colored_number_square', locals:{number:course_difficulty_criteria[index], reverse:"true"} %></td>

				<% else %>
					<td></td><td></td>
				<% end %>
			</tr>
			<% end %>
			
		</tbody>
</table>
	</div>
</div>